# hb_case_management [![Build Status](https://travis-ci.org/openatx/uiautomator2.svg?branch=master)](https://github.com/zhangqiuhong/hb_case_management)  ![PyPI](https://img.shields.io/pypi/pyversions/uiautomator2.svg) [![Windows Build](https://ci.appveyor.com/api/projects/status/github/openatx/uiautomator2)](https://ci.appveyor.com/project/openatx/uiautomator2)

<h5>依赖库信息</h5>

- [![PyPI](https://img.shields.io/pypi/v/uiautomator2.svg?label=uiautomator2)](https://pypi.python.org/pypi/uiautomator2)
- [![GitHub tag (latest SemVer)](https://img.shields.io/github/tag/openatx/atx-agent.svg?label=atx-agent)](https://github.com/openatx/atx-agent)
- ![GitHub tag (latest SemVer)](https://img.shields.io/github/tag/openatx/android-uiautomator-server.svg?label=android-uiautomator-server)
- ![PyPI](https://img.shields.io/pypi/v/adbutils.svg?label=adbutils)
- ![PyPI](https://img.shields.io/pypi/v/requests.svg?label=requests)
- ![PyPI](https://img.shields.io/pypi/v/lxml.svg?label=lxml)

**项目简介** 

<p align="left"><img src="docs/img/qqgroup.png" /></div>

[hb_case_management]以下简称TCM是一款面向软件测试相关从业者提供用例管理的工具，基于python的Django、vue、nodejs等主流应用技术开发。
在部分UI方面参考了[飞蛾](https://feie.work/) 的设计风格并进行了小幅改动，增加了常用功能的便捷入口，去掉了繁复操作，降低了测试人员的使用成本，且完全开源免费，不限使用人数。

**产品优势** 

* 测试用例采用经典树形结构与脑图的双向管理模式，用户可根据自己喜好创建用例展现形式
* 脑图可多人在线同时创建、编辑
* 支持Excel/xmind文件进行导入或导出用例
* 可根据任务/需求维度组织部分用例形成测试计划 同时可向开发人员提供自测计划


## Requirements
- Django版本 3.0+
- Python 3.6+ (不支持2.7）
- Node.js 10+
- nginx 1.19.0+
- mysql 5.7+
- docker 2.3+



## QUICK START

> 本应用集成了dockerfile docker-compose, 同时也支持原始的服务器中直接部署的方式


# docker方式

1. 安装docker
    
    请参考官网：<https://www.docker.com/get-started>
    
    ```bash
    ps: 可安装桌面版，官方提供了可视化界面
    测试是否安装成功 `docker -v`
    ```
   
2. 克隆源码到目标服务器

3. 运行源码项目根目录下的start.sh即可

> 正常情况下执行docker-compose命令结束后 不会出现报错信息 后端服务启动成功
> 配置host <服务器主机IP> tcm.huobi.com 即可访问项目

# 服务器直接部署方式
1. 安装python

    
2. 安装Node.js
    请参考官网：<https://nodejs.org/en/download/>
    
3. 安装nginx
    请参考官网：<http://nginx.org/en/download.html> <https://www.nginx.com/>
    
    
4. 克隆源码到目标服务器   
    ```bash
    1) 在源码根目录下依次执行以下步骤
    pip3 install -r requirements.txt
    cd page && npm install && npm run build:prod
    2) 配置nginx
    修改源码根目录下nginx.conf文件的root为项目所在路径 + /page/dist（即npm编译后的静态文件生成路径）如文件中的示例
    将nginx.conf 拷贝至nginx的配置路径 如cp nginx.conf  /etc/nginx/conf.d/
   ps: 查看nginx配置地址 使用命令 nginx -t
   重新加载使新的配置生效 nginx -s reload
    ```

# 项目功能介绍
2.4.1**团队创建**

* 点击平台左侧“团队管理”菜单进入团队管理列表页面
* 点击【创建团队】按钮弹出创建团队弹窗（如图）
* 输入团队名称、团队描述，选择团队成员
* 点击【确定】创建团队
{F2343192}

2.4.2**团队编辑**
创建团队者有权限可见团队操作按钮
点击团队右侧编辑按钮可编辑团队信息
{F2343195}

2.4.3**查看团队成员**
鼠标悬浮在团队名称前面的团队成员icon上，
展示出具体成员对应的邮箱注册账号（如图2.4.3.1）
鼠标悬浮在团队人数上方时可见所有团队成员邮箱注册账号
//图2.4.3.1//
{F2343199}
//图2.4.3.1//
{F2343197}

 2.4.4**删除团队**
创建团队者有权限可见团队删除按钮，
点击团队右侧的删除按钮，弹出再次确认弹框提示（如图），选择【取消】关闭弹框，选择【确定】删除弹框。
{F1478229}



  - **2.5 项目管理**

 2.5.1**创建项目**
点击左侧菜单栏“项目管理”打开项目管理列表页面
点击【创建项目】按钮弹出创建项目弹窗（如图所示）
上传项目logo文件、输入项目名称（项目名称最长支持25个字符长度，超过25不允许再输入）、输入项目描述、选择可见项目团队
点击【确定】创建项目
{F2343203}
2.5.2**项目编辑**
项目创建者有权限可见项目操作按钮
点击项目列表中的编辑按钮可打开项目编辑弹窗编辑项目信息
{F2343205}
2.5.3**项目删除**
项目创建者有权限可见项目操作按钮
点击项目列表中的删除按钮弹出再次确认弹框，选择【取消】关闭弹框，选择【确定】删除当前项目
{F1478302}

  - **2.6 用例管理**

2.6.1**添加用例分组**
点击项目管理页面中的操作按钮（如图2.6.1.1所示）进入“项目管理-用例管理”页面，
点击第一级分组添加按钮（如图2.6.1.2所示）弹出添加第一级分组的弹窗，输入分组名称，点击【确定】添加分组。
点击分组后面的添加按钮（如图2.6.1.3所示），可以添加分组的下一级分组，分组最多添加至第4级别，第4级别分组将不再显示添加下一级分组按钮。
//图2.6.1.1//
{F1478314}
//图2.6.1.2//
{F2343222}

2.6.2**编辑用例分组**
鼠标悬浮至要编辑的用例分组名称上方，点击用例分组的编辑按钮（如图2.6.2.1所示），弹出用例分组编辑弹框（如图2.6.2.2所示）
输入更改内容，点击【确定】编辑分组名称，点击【取消】关闭弹框
//图2.6.2.1//
{F2343210}
//图2.6.2.2//
{F1478361}



2.6.3**删除用例分组**
鼠标悬浮至要删除的用例分组名称上方，点击用例分组的删除按钮（如图2.6.3.1所示），弹出再次确认弹框（如图2.6.3.2所示），
点击【确定】删除当前分组，点击【取消】关闭弹框
//图2.6.3.1//
{F2343212}
//图2.6.3.2//
{F1478385}



2.6.4**收起/展开用例分组**
进入用例管理页面，所有分组默认为展开状态
点击收起分组按钮（如图所示）收起分组，再次点击展开分组
{F2343214}

2.6.5**搜索用例分组**
鼠标点击搜索分组输入框，输入分组名称可实现实时搜索
点击x清空搜索框内容后，展示所有分组
{F2343224}
{F2343217}

2.6.6**用例分组移动**
上下拖动分组，可实现分组自定义排序；
拖动分组至某一分组上方，可将当前分组加入此分组
{F2343219}


2.6.7**创建用例**
点击【创建用例】按钮（如图2.6.7.1所示）打开创建用例页面（如图2.6.7.2所示），
输入用例标题（标题长度最长20个字符，超过20字符不允许再输入）、
点击按钮（如图2.6.7.3所示）选择分组，弹出分组选择弹框（如图2.6.7.4所示）,选择分组，点击【确定】、
点击标签添加按钮（如图2.6.7.5所示），弹出标签添加弹框（如图2.6.7.6所示），输入标签回车，点击【确定】、

NOTE:
用例标签是每个用例的的特殊标签，例如在创建用例时，加入标签“T12345”，则在搜索用例时，只需输入“T12345”就可将整个项目中所有包含有“T12345”的标签的用例检索出来。


输入前置条件（可不输入）、
选择类型（文本描述/步骤描述）、
输入用例文本描述信息或者步骤描述信息、
上传附件（可不上传）、
点击【新增】创建单个用例
//图2.6.7.1//
{F2343227}
//图2.6.7.2//
{F2343229}
//图2.6.7.3//
{F2343236}
//图2.6.7.4//
{F2343238}
//图2.6.7.5//
{F1478509}
//图2.6.7.6//
{F2343244}
2.6.8**编辑用例**
点击对应用例的编辑按钮（如图）打开编辑页面，可进行用例编辑操作
{F2343248}

2.6.9**复制用例**
点击对应用例的复制按钮（如图所示）可打开复制用例页面
{F2343250}

2.6.10**删除用例**
点击对应用例的删除按钮（如图所示）删除用例
{F2343252}


2.6.11**查看用例历史记录**
点击对应用例的查看历史按钮（如图所示）查看用例历史操作记录
{F2343255}


2.6.12**搜索用例**
点击全部用例搜索输入框（如图），输入用例所属分组、用例名称、用例标签可实现用例模糊搜索功能
{F2343257}

2.6.13**用例收起/展开**
用例默认全部展开，点击收起按钮（如图）收起用例，再次点击展开用例
{F2343259}

2.6.14**批量导入/导出用例**
点击批量操作按钮（如图2.6.14.1所示），
选择“下载模板文件”，打开模板，编辑用例信息，选择“导入Excel”，选中要上传的用例文件，弹出待导入用例信息弹窗（如图2.6.14.2所示），点击【开启导入】按钮导入用例，点击【关闭窗口】取消导入
//图2.6.14.1//
{F2343261}
//图2.6.14.2//
{F1478587}
导入的用例若有不符合要求的字段时，页面会标记并提示出来
{F1478583}
点击批量操作按钮，选择“导出Excel”，将此项目下的全部用例以Excel表格形式下载到本地，表格名称以时间命名
{F1478590}

2.7 脑图模式
---


end
----



  - **2.8 测试计划**
2.8.1**创建测试计划/里程碑**
点击项目管理中心页面的左侧菜单“测试计划”打开测试计划页面，点击里程碑与测试计划添加按钮（如图2.8.1.1所示）选择“创建里程碑”打开“创建里程碑”弹窗（如图2.8.1.2所示），输入里程碑标题（标题长度限定30个字符，超出30个字符不允许再输入）、描述、选择时间范围，点击【确定】按钮创建里程碑，点击【取消】关闭创建弹窗
//图2.8.1.1//
{F1478627}
//图2.8.1.2//
{F1478636}
点击里程碑与测试计划添加按钮，选择“创建测试计划”打开测试计划创建页面（如图2.8.1.3所示）输入标题（标题长度限定15个字符，超过15个字符不允许再输入）、输入任务task号，选择任务、选择里程碑、选择默认分配人员、输入描述、点击按钮（如图2.8.1.4）选择个别用例，弹出用例选择弹框（如图2.8.1.5），选中用例，点击【确定】、点击创建测试计划弹窗【确定】按钮创建测试计划，点击【取消】关闭创建测试计划弹窗。
//图2.8.1.3//
{F1478641}
//图2.8.1.4//
{F1478651}
//图2.8.1.5//
{F1478653}

2.8.2**编辑测试计划**
点击【编辑】按钮（如图所示）弹出编辑测试计划弹窗；
{F2343263}

2.8.3**归档测试计划**
点击【归档】按钮（如图所示），弹框提示“是否确认归档计划？”选择【确定】归档计划，选择【取消】关闭弹框
{F2343265}

2.8.4**编辑里程碑**
选中里程碑（如图2.8.4.1所示），点击编辑按钮（如图2.8.4.2所示）弹出“修改里程碑”弹窗
//图2.8.4.1//
{F1478675}
//图2.8.4.2//
{F1478679}

2.8.5**删除里程碑**
选中里程碑，点击删除按钮（如图）弹出二次确认弹框，选择【删除】删除当前里程碑，选择【取消】关闭弹框
{F1478681}

2.8.6**复制测试计划**
点击复制按钮（如图2.8.6.1所示），弹窗“复制测试计划”弹窗（如图2.8.6.2所示）,修改测试计划标题后，点击【确定】即可复制成功
//图2.8.6.1//
{F1478671}
//图2.8.6.2//
{F1478669}

2.8.7**搜索测试计划**
点击测试计划搜索输入框，输入测试计划名称或者测试计划的任务task号可实现测试计划模糊搜索
{F1478663}

2.8.8**修改用例分配人员**
单个修改：点击对应用例分配人员按钮（如图所示），选择要分配的人员
{F1478686}
批量修改：选中多个用例，点击【分配给】（如图所示），选择要分配的人员
{F1478701}

2.8.9**修改用例优先级**
单个修改：点击对应的用例优先级下拉按钮（如图所示），选择要更改的级别
{F1478690}
批量修改：选中多个用例，点击【优先级】（如图所示），选中要更改的级别
{F1478698}

2.8.10**搜索用例**
点击搜索输入框，输入用例名称、分组、分配的人员可实现不同维度的用例模糊搜索
切换状态或切换优先级可实现条件搜索用例
{F2343267}
{F2343269}
{F2343273}
{F2343275}



  - **2.9开始测试**
点击测试计划信息页面右上角【开始测试】按钮进入计划测试页面

2.9.1**用例列表-用例搜索**
切换用例状态搜索（如图）
{F2343277}
输入分组或者用例名称搜索（如图）
{F2343279}
选择“只测我的”（如图）
{F2343282}


2.9.2**记录测试**
点击【记录结果】按钮展示“记录测试结果”弹窗（如图2.9.2.1所示），选择测试结果状态，输入测试结果，点击【添加结果】按钮添加结果。
//图2.9.2.1//
{F1478727}
如果有缺陷，点击【添加缺陷】按钮弹出“添加缺陷”弹窗（如图2.9.2.2所示），输入缺陷信息，点击【添加】按钮添加缺陷；
//图2.9.2.2//
{F2343286}
点击【添加备注】按钮，输入备注信息，点击【添加备注】可进行备注添加，点击【添加备注并下一条】可进行备注添加同时打开新的备注添加输入框，添加新的备注

2.9.3**查看缺陷列表**
查看用例的缺陷列表：点击缺陷列表tab（如图2.9.3.1所示）查看缺陷
//图2.9.3.1//
{F1478737}
查看计划的缺陷列表：点击测试计划的缺陷tab（如图2.9.3.2所示）查看缺陷
//图2.9.3.2//
{F1478739}



  - **3.0测试报告**
3.0.1**创建测试报告**
点击项目管理中心页面左侧菜单“测试报告”进入测试报告页面。点击【创建报告】按钮弹出“创建报告”弹窗（如图所示），选择里程碑，选择里程碑对应的测试计划，修改报告名称，点击【确定】按钮创建测试报告。
{F1478746}



3.0.2**删除测试报告**
点击对应测试报告操作按钮【删除报告】，弹出警告弹窗，点击【删除】可删除已创建的报告。
{F1478748}


3.0.3**查看报告**
点击对应测试报告操作按钮【查看报告】，跳转至测试报告详情页面（如图）
{F1478750}



3.0.4**报告搜索**
点击报告搜索输入框，输入报告名称可实现报告模糊查询功能
{F1478752}


# 优秀文章推荐




# Contributors
- guoliang ([@guoliang])
- zhangqiuhong ([@zhangqiuhong])
- yuli ([@yuli])

[@codeskyblue]: https://github.com/codeskyblue
[@xiaocong]: https://github.com/xiaocong
[@yuanyuan]: https://github.com/yuanyuanzou
[@QianJin2013]: https://github.com/QianJin2013
[@xiscoxu]: https://github.com/xiscoxu
[@mingyuan-xia]: https://github.com/mingyuan-xia
[@artikz]: https://github.com/artikz



## 其他优秀的项目
- [google/mobly](https://github.com/google/mobly) 谷歌内部的测试框架，虽然我不太懂，但是感觉很好用
- https://www.appetizer.io/ 包含一个很好用的IDE，快速编写脚本，也可以插桩采集性能。
- https://github.com/atinfo/awesome-test-automation 所有优秀测试框架的集合，包罗万象
- http://www.sikulix.com/ 基于图像识别的自动化测试框架，非常的老牌
- http://airtest.netease.com/ 本项目的前身，后来被网易广州团队接手并继续优化。实现有一个不错的IDE

